"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[9109],{6104:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>u,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>c});var t=s(4848),i=s(8453);const o={title:"Working with Multichannel Instruments",description:"Managing multichannel setups"},a=void 0,r={id:"using_cabbage/multichannel",title:"Working with Multichannel Instruments",description:"Managing multichannel setups",source:"@site/docs/using_cabbage/multichannel.md",sourceDirName:"using_cabbage",slug:"/using_cabbage/multichannel",permalink:"/cabbage3docs/docs/using_cabbage/multichannel",draft:!1,unlisted:!1,editUrl:"https://github.com/rorywalsh/cabbage3docs/tree/main/docs/using_cabbage/multichannel.md",tags:[],version:"current",frontMatter:{title:"Working with Multichannel Instruments",description:"Managing multichannel setups"},sidebar:"docSidebar",previous:{title:"Working with Media Files",permalink:"/cabbage3docs/docs/using_cabbage/media_files"},next:{title:"Cabbage Widgets",permalink:"/cabbage3docs/docs/cabbage_widgets/intro"}},u={},c=[{value:"Defining number of outputs",id:"defining-number-of-outputs",level:3},{value:"Defining the number of inputs",id:"defining-the-number-of-inputs",level:3},{value:"Instruments with side-chains",id:"instruments-with-side-chains",level:2},{value:"Buses",id:"buses",level:2}];function l(n){const e={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,i.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.p,{children:"While any instrument that processes more than a signal channels can be classified as multichannel, the term is typically reserved for instruments that process more than 2 channels."}),"\n",(0,t.jsx)(e.h3,{id:"defining-number-of-outputs",children:"Defining number of outputs"}),"\n",(0,t.jsxs)(e.p,{children:["We can define the number of outputs we would like in our Csound header section. We can use the ",(0,t.jsx)(e.code,{children:"nchnls"})," keyword to tell Csound how many output channels to use. In the following setup the instrument will have 2 outputs."]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"<CsoundSynthesizer>\n<CsOptions>\n-n -d -+rtmidi=NULL -M0 -m0d \n</CsOptions>\n<CsInstruments>\nksmps = 32\nnchnls = 2 //stereo output \n0dbfs = 1\n"})}),"\n",(0,t.jsx)(e.h3,{id:"defining-the-number-of-inputs",children:"Defining the number of inputs"}),"\n",(0,t.jsxs)(e.p,{children:["Similarly, we can use the ",(0,t.jsx)(e.code,{children:"nchnls_i"})," keyword to set the number of input channels."]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"<CsoundSynthesizer>\n<CsOptions>\n-n -d -+rtmidi=NULL -M0 -m0d \n</CsOptions>\n<CsInstruments>\nksmps = 32\nnchnls = 2      //stereo output \nnchnls_i = 4    //quadraphonic input\n0dbfs = 1\n"})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsxs)(e.p,{children:["Note that ",(0,t.jsx)(e.code,{children:"nchnls"})," will be taken as the number of input channels if ",(0,t.jsx)(e.code,{children:"nchnls_i"})," is not defined."]}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"instruments-with-side-chains",children:"Instruments with side-chains"}),"\n",(0,t.jsx)(e.p,{children:"A sidechain channel in audio processing is an auxiliary input that influences how a plugin or processor (e.g., a compressor or gate) behaves. Instead of relying solely on the main audio input, the plugin uses the sidechain input as a control signal to guide its processing. In Cabbage terms, this is typically an instrument with more inputs than outputs. For example the following instrument might use the first 2 input channels to process the main stereo input, and the third input channel to control a gate."}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"<CsoundSynthesizer>\n<CsOptions>\n-n -d -+rtmidi=NULL -M0 -m0d \n</CsOptions>\n<CsInstruments>\nksmps = 32\nnchnls = 2      //stereo output \nnchnls_i = 3    //stereo plus mono input\n0dbfs = 1\n"})}),"\n",(0,t.jsx)(e.h2,{id:"buses",children:"Buses"}),"\n",(0,t.jsx)(e.p,{children:"An audio bus is a logical grouping of audio channels that allows for the routing and processing of multiple audio signals as a single unit. Buses are used to simplify signal management, enabling plugins to handle mono, stereo, surround, or custom configurations seamlessly and integrate effectively with the DAW's mixing and routing workflows. Sidechaining is typically handled using a unique bus."}),"\n",(0,t.jsxs)(e.p,{children:["In order to set up custom busing in Cabbage 3 we define a list of available bus configurations in our ",(0,t.jsx)(e.code,{children:"form"})," widget. For this we use the ",(0,t.jsx)(e.code,{children:"channelConfig"})," property, which can be assigned a string with all supported configurations. In the case of our simple sidechain setup from above, we should probably group the inputs into a stereo bus, and the sidechain channel into a mono bus. To do this we add '2.1-2' to our ",(0,t.jsx)(e.code,{children:"chanelConfig"})," property."]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:'{\n    "type": "form",\n    "caption": "Effect",\n    "size": {\n        "height": 300,\n        "width": 580\n    },\n    "pluginId": "def1",\n    "channelConfig":"2.1-2 2-2 1-1"\n}\n'})}),"\n",(0,t.jsx)(e.p,{children:"You can specify as many bus arranges as you like, but they must adhere to the overall number of inputs and outputs you set in your Csound header section."}),"\n",(0,t.jsxs)(e.p,{children:["Note that some hosts may try to override, ",(0,t.jsx)(e.code,{children:"nchnls/nchnls_i"}),". For example, if you drop an instrument with ",(0,t.jsx)(e.code,{children:"nchnls=2"})," defined onto a mono track in Logic, ",(0,t.jsx)(e.code,{children:"nchnls"})," will be overwritten and set to 1. That\u2019s why it\u2019s a good idea to use code like this in your instruments:"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"if nchnls == 1 then\n    outs (aLeft+aRight)/2\nelse\n\touts aLeft, aRight\nendif\n"})}),"\n",(0,t.jsx)(e.p,{children:"This will prevent Csound from trying to access an input or output channel that is not available."})]})}function h(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(l,{...n})}):l(n)}},8453:(n,e,s)=>{s.d(e,{R:()=>a,x:()=>r});var t=s(6540);const i={},o=t.createContext(i);function a(n){const e=t.useContext(o);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:a(n.components),t.createElement(o.Provider,{value:e},n.children)}}}]);